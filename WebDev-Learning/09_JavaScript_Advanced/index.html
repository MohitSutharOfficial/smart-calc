<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Advanced - WebDev Learning</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title">JavaScript Advanced</h1>
            <p class="app-subtitle">Master modern JavaScript patterns, ES6+, and advanced concepts</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">

            <!-- ES6+ Features Section -->
            <section class="content-section">
                <h2 class="section-title">ES6+ Modern Features</h2>
                <div class="demo-grid">

                    <!-- Arrow Functions & Destructuring -->
                    <div class="demo-card">
                        <h3>Arrow Functions & Destructuring</h3>
                        <div class="demo-controls">
                            <button id="arrowFunctionsDemo" class="demo-btn">Test Arrow Functions</button>
                            <button id="destructuringDemo" class="demo-btn">Test Destructuring</button>
                        </div>
                        <div id="es6Results" class="results-display"></div>
                    </div>

                    <!-- Template Literals -->
                    <div class="demo-card">
                        <h3>Template Literals & Tagged Templates</h3>
                        <div class="demo-controls">
                            <input type="text" id="nameInput" placeholder="Enter your name" value="John">
                            <input type="number" id="ageInput" placeholder="Enter your age" value="25">
                            <button id="templateLiteralsDemo" class="demo-btn">Generate Template</button>
                        </div>
                        <div id="templateResults" class="results-display"></div>
                    </div>

                    <!-- Spread & Rest Operators -->
                    <div class="demo-card">
                        <h3>Spread & Rest Operators</h3>
                        <button id="spreadRestDemo" class="demo-btn">Test Spread/Rest</button>
                        <div id="spreadResults" class="results-display"></div>
                    </div>
                </div>
            </section>

            <!-- Async Programming Section -->
            <section class="content-section">
                <h2 class="section-title">Asynchronous Programming</h2>
                <div class="demo-grid">

                    <!-- Fetch API -->
                    <div class="demo-card">
                        <h3>Fetch API & HTTP Requests</h3>
                        <div class="demo-controls">
                            <button id="fetchUsersBtn" class="demo-btn">Fetch Users</button>
                            <button id="fetchPostsBtn" class="demo-btn">Fetch Posts</button>
                            <button id="fetchErrorBtn" class="demo-btn error-btn">Test Error</button>
                        </div>
                        <div id="fetchResults" class="results-display"></div>
                        <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                            <div class="spinner"></div>
                            <span>Loading...</span>
                        </div>
                    </div>

                    <!-- Async/Await vs Promises -->
                    <div class="demo-card">
                        <h3>Async/Await vs Promises</h3>
                        <div class="demo-controls">
                            <button id="promiseChainBtn" class="demo-btn">Promise Chain</button>
                            <button id="asyncAwaitBtn" class="demo-btn">Async/Await</button>
                            <button id="parallelAsyncBtn" class="demo-btn">Parallel Execution</button>
                        </div>
                        <div id="asyncResults" class="results-display"></div>
                    </div>

                    <!-- Web Workers -->
                    <div class="demo-card">
                        <h3>Web Workers</h3>
                        <div class="demo-controls">
                            <input type="number" id="workerInput" placeholder="Number to calculate" value="40">
                            <button id="mainThreadBtn" class="demo-btn">Main Thread</button>
                            <button id="webWorkerBtn" class="demo-btn">Web Worker</button>
                        </div>
                        <div id="workerResults" class="results-display"></div>
                    </div>
                </div>
            </section>

            <!-- Advanced Patterns Section -->
            <section class="content-section">
                <h2 class="section-title">Advanced JavaScript Patterns</h2>
                <div class="demo-grid">

                    <!-- Module Pattern -->
                    <div class="demo-card">
                        <h3>Module Pattern & Closures</h3>
                        <div class="demo-controls">
                            <button id="createCounterBtn" class="demo-btn">Create Counter</button>
                            <button id="incrementBtn" class="demo-btn" disabled>Increment</button>
                            <button id="decrementBtn" class="demo-btn" disabled>Decrement</button>
                            <button id="getValueBtn" class="demo-btn" disabled>Get Value</button>
                        </div>
                        <div id="moduleResults" class="results-display"></div>
                    </div>

                    <!-- Observer Pattern -->
                    <div class="demo-card">
                        <h3>Observer Pattern</h3>
                        <div class="demo-controls">
                            <button id="addObserverBtn" class="demo-btn">Add Observer</button>
                            <button id="notifyObserversBtn" class="demo-btn">Notify All</button>
                            <button id="removeObserverBtn" class="demo-btn">Remove Observer</button>
                        </div>
                        <div id="observerResults" class="results-display"></div>
                    </div>

                    <!-- Proxy & Reflection -->
                    <div class="demo-card">
                        <h3>Proxy & Reflection</h3>
                        <div class="demo-controls">
                            <input type="text" id="proxyKey" placeholder="Property name" value="name">
                            <input type="text" id="proxyValue" placeholder="Property value" value="John">
                            <button id="setProxyBtn" class="demo-btn">Set Property</button>
                            <button id="getProxyBtn" class="demo-btn">Get Properties</button>
                        </div>
                        <div id="proxyResults" class="results-display"></div>
                    </div>
                </div>
            </section>

            <!-- Performance & Optimization Section -->
            <section class="content-section">
                <h2 class="section-title">Performance & Optimization</h2>
                <div class="demo-grid">

                    <!-- Debouncing & Throttling -->
                    <div class="demo-card">
                        <h3>Debouncing & Throttling</h3>
                        <div class="demo-controls">
                            <input type="text" id="debounceInput" placeholder="Type to test debouncing...">
                            <button id="throttleBtn" class="demo-btn">Click rapidly (throttled)</button>
                        </div>
                        <div id="performanceResults" class="results-display"></div>
                    </div>

                    <!-- Memory Management -->
                    <div class="demo-card">
                        <h3>Memory Management</h3>
                        <div class="demo-controls">
                            <button id="createLeakBtn" class="demo-btn error-btn">Create Memory Leak</button>
                            <button id="cleanupBtn" class="demo-btn">Cleanup</button>
                            <button id="checkMemoryBtn" class="demo-btn">Check Memory</button>
                        </div>
                        <div id="memoryResults" class="results-display"></div>
                    </div>

                    <!-- Intersection Observer -->
                    <div class="demo-card">
                        <h3>Intersection Observer</h3>
                        <div class="demo-controls">
                            <button id="createObserverBtn" class="demo-btn">Setup Observer</button>
                            <div class="scroll-container" id="scrollContainer">
                                <div class="observe-target" data-id="1">Target 1</div>
                                <div class="observe-target" data-id="2">Target 2</div>
                                <div class="observe-target" data-id="3">Target 3</div>
                                <div class="observe-target" data-id="4">Target 4</div>
                            </div>
                        </div>
                        <div id="intersectionResults" class="results-display"></div>
                    </div>
                </div>
            </section>

            <!-- State Management Section -->
            <section class="content-section">
                <h2 class="section-title">State Management</h2>
                <div class="demo-grid">

                    <!-- Custom State Manager -->
                    <div class="demo-card">
                        <h3>Custom State Manager</h3>
                        <div class="demo-controls">
                            <input type="text" id="userNameInput" placeholder="User name" value="Alice">
                            <input type="email" id="userEmailInput" placeholder="User email" value="alice@example.com">
                            <button id="updateUserBtn" class="demo-btn">Update User</button>
                            <button id="getStateBtn" class="demo-btn">Get State</button>
                            <button id="subscribeBtn" class="demo-btn">Subscribe to Changes</button>
                        </div>
                        <div id="stateResults" class="results-display"></div>
                    </div>

                    <!-- LocalStorage Manager -->
                    <div class="demo-card">
                        <h3>Advanced LocalStorage</h3>
                        <div class="demo-controls">
                            <input type="text" id="storageKey" placeholder="Key" value="userPrefs">
                            <textarea id="storageData"
                                placeholder="JSON data">{"theme": "dark", "lang": "en"}</textarea>
                            <button id="saveStorageBtn" class="demo-btn">Save</button>
                            <button id="loadStorageBtn" class="demo-btn">Load</button>
                            <button id="clearStorageBtn" class="demo-btn error-btn">Clear</button>
                        </div>
                        <div id="storageResults" class="results-display"></div>
                    </div>

                    <!-- Event System -->
                    <div class="demo-card">
                        <h3>Custom Event System</h3>
                        <div class="demo-controls">
                            <input type="text" id="eventType" placeholder="Event type" value="userLogin">
                            <textarea id="eventData"
                                placeholder="Event data">{"userId": 123, "timestamp": "now"}</textarea>
                            <button id="emitEventBtn" class="demo-btn">Emit Event</button>
                            <button id="listenEventBtn" class="demo-btn">Add Listener</button>
                        </div>
                        <div id="eventResults" class="results-display"></div>
                    </div>
                </div>
            </section>

            <!-- Error Handling & Testing Section -->
            <section class="content-section">
                <h2 class="section-title">Error Handling & Testing</h2>
                <div class="demo-grid">

                    <!-- Advanced Error Handling -->
                    <div class="demo-card">
                        <h3>Advanced Error Handling</h3>
                        <div class="demo-controls">
                            <button id="customErrorBtn" class="demo-btn">Custom Error</button>
                            <button id="asyncErrorBtn" class="demo-btn">Async Error</button>
                            <button id="errorBoundaryBtn" class="demo-btn">Error Boundary</button>
                        </div>
                        <div id="errorResults" class="results-display"></div>
                    </div>

                    <!-- Mini Testing Framework -->
                    <div class="demo-card">
                        <h3>Mini Testing Framework</h3>
                        <div class="demo-controls">
                            <button id="runTestsBtn" class="demo-btn">Run Tests</button>
                            <button id="addTestBtn" class="demo-btn">Add Test</button>
                        </div>
                        <div id="testResults" class="results-display"></div>
                    </div>

                    <!-- Performance Monitoring -->
                    <div class="demo-card">
                        <h3>Performance Monitoring</h3>
                        <div class="demo-controls">
                            <button id="measurePerformanceBtn" class="demo-btn">Measure Performance</button>
                            <button id="profileFunctionBtn" class="demo-btn">Profile Function</button>
                        </div>
                        <div id="perfResults" class="results-display"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Sidebar with Code Examples -->
        <aside class="sidebar">
            <h3>Code Examples</h3>
            <div class="code-example">
                <h4>ES6 Class Example</h4>
                <pre><code>class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
  
  greet() {
    return `Hello, ${this.name}!`;
  }
}</code></pre>
            </div>

            <div class="code-example">
                <h4>Async Function</h4>
                <pre><code>async function fetchData() {
  try {
    const response = await fetch('/api/data');
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error:', error);
    throw error;
  }
}</code></pre>
            </div>

            <div class="tips-section">
                <h4>Pro Tips</h4>
                <ul>
                    <li>Use const by default, let when reassigning</li>
                    <li>Prefer async/await over Promise chains</li>
                    <li>Always handle errors in async operations</li>
                    <li>Use Map/Set for better performance with large datasets</li>
                    <li>Consider using Web Workers for CPU-intensive tasks</li>
                </ul>
            </div>
        </aside>
    </div>

    <!-- JavaScript Modules -->
    <script type="module" src="script.js"></script>
</body>

</html>